// Adicione estas variáveis globais no início do arquivo
var wavesurferInstances = [];

function initWaveform(audioId, waveformId) {
    var audio = document.getElementById(audioId);
    var wavesurfer = WaveSurfer.create({
        container: '#' + waveformId,
        waveColor: 'blue',
        progressColor: 'purple',
        height: 50,
        barWidth: 2,
        cursorWidth: 1,
        responsive: true,
    });

    wavesurfer.load(audio.src);

    wavesurferInstances.push({ audioId: audioId, wavesurfer: wavesurfer });

    // Atualize o visualizador quando o áudio for reproduzido
    audio.addEventListener('timeupdate', function() {
        wavesurfer.seekTo(audio.currentTime / audio.duration);
    });

    // Pausa o visualizador quando o áudio for pausado
    audio.addEventListener('pause', function() {
        wavesurfer.pause();
    });
}

// Adicione estas chamadas no final do arquivo
document.addEventListener('DOMContentLoaded', function() {
    initWaveform('audio1', 'waveform1');
    initWaveform('audio2', 'waveform2');
    initWaveform('audio3', 'waveform3');
    initWaveform('audio4', 'waveform4');
    // Inicialize mais visualizadores conforme necessário para outros players
});
